\documentclass[a4paper,11pt]{article}
\newcommand{\todo}[1]{{\tt $\ldots$ #1 $\ldots$ }}
\usepackage[utf8]{inputenc}  % Linux, macOS: enable non-English characters
\usepackage[british]{babel}
\usepackage{fullpage}
\usepackage[a4paper, top=1cm, margin=1.7cm]{geometry}  % set page margin

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm} \newtheorem{theorem}{Theorem}
\usepackage{booktabs}
%\usepackage{clrscode3e}
\usepackage{color}
\usepackage{courier} % \texttt{...} gives thinner text
\usepackage{float}
\usepackage{mathtools} \mathtoolsset{showonlyrefs}  % provides \coloneqq
\usepackage{multirow}
\usepackage{tikz} \usetikzlibrary{trees}
\usepackage{listings}
\lstset{language=C++,
	basicstyle=\color[rgb]{0,0.5,0.8}\normalsize\ttfamily\bfseries,
	keywordstyle=\color{orange}\ttfamily\bfseries,
	identifierstyle=\color[rgb]{0,0,0}\ttfamily\bfseries,
	stringstyle=\color[rgb]{0,0.8,0.7}\ttfamily\bfseries,
	commentstyle=\color[rgb]{0.5,0.5,0.5}\ttfamily,
	tabsize=4,
	numbers=left, numberstyle=\color{gray}\tiny, numbersep=5pt,
	breaklines=true,
	breakatwhitespace=true,
	captionpos=b,
	columns=fullflexible,
	escapeinside={\#*}{\^^M},
	mathescape
}
\usepackage{hyperref}  % should always be the last package


% useful wrappers for algorithmic/Python notation:
\newcommand{\length}[1]{\text{len}(#1)}
\newcommand{\twodots}{\mathinner{\ldotp\ldotp}}  % taken from clrscode3e.sty
\newcommand{\Returns}{\longrightarrow}

%% useful (wrappers for) math symbols:
\newcommand{\Cardinality}[1]{\left\lvert#1\right\rvert}
%\newcommand{\Cardinality}[1]{\##1}
\newcommand{\Ceiling}[1]{\left\lceil#1\right\rceil}
\newcommand{\Floor}[1]{\left\lfloor#1\right\rfloor}
\newcommand{\Iff}{\Leftrightarrow}
\newcommand{\Implies}{\Rightarrow}
\newcommand{\Intersect}{\cap}
\newcommand{\Oh}[1]{\mathcal{O}\left(#1\right)}
\newcommand{\Sequence}[1]{\left[#1\right]}
\newcommand{\Set}[1]{\left\{#1\right\}}
\newcommand{\SetComp}[2]{\Set{#1\SuchThat#2}}
\newcommand{\SuchThat}{\mid}
\newcommand{\Tuple}[1]{\langle#1\rangle}
\newcommand{\Union}{\cup}

%% fancy characters:
\usepackage{pifont}
%\newcommand{\scissors}{\ding{36}}
%\newcommand{\phone}{\ding{37}}
%\newcommand{\aircraft}{\ding{40}}
%\newcommand{\envelope}{\ding{41}}
\newcommand{\handpoint}{\ding{43}}
%\newcommand{\victory}{\ding{44}}
%\newcommand{\handwrite}{\ding{45}}
%\newcommand{\tick}{\ding{51}}
%\newcommand{\notick}{\ding{55}}

\renewcommand{\thepart}{\arabic{part}}
\renewcommand{\thesection}{\Alph{section}}

\title{\textbf{DSA Templates}}

\author{Yueyuan Huang}

%\date{Month Day, Year}
\date{\today}


\begin{document}

% \tableofcontents

\include{preface}
\maketitle
% \newpage

% UTILITY
\begin{lstlisting}[caption={Spells.}]
#pragma GCC optimize("O2")
ios::sync_with_stdio(0); cin.tie(0);
\end{lstlisting}

\lstinputlisting[firstline=1, lastline=11, float=!ht, language=Python, caption={Runner Script.}, label={lst:Runner}]{../runner.py}

% DATA STRUCTURE
\lstinputlisting[firstline=40, lastline=58, float=!ht, caption={1-indexed BIT.}, label={lst:BIT}]{../datastruct/bit.cpp}
\addcontentsline{toc}{section}{Data Structure}


\lstinputlisting[firstline=5, lastline=48, float=!ht, caption={Segment Tree supporting point modify and interval query.}]{../datastruct/seg_tree.cpp}


\lstinputlisting[firstline=7, lastline=54, float=!ht, caption={Lazy-tag Segment Tree.}]{../datastruct/segment_tree.cpp}


\lstinputlisting[firstline=40, lastline=58, float=!ht, caption={DSU.}]{../datastruct/dsu.cpp}

\lstinputlisting[firstline=39, lastline=69, float=!ht, caption={DSU with Rollback Support.}]{../datastruct/dsu_rb.cpp}


\lstinputlisting[firstline=7, lastline=24, float=!ht, caption={Sparse Table. Supports Ranged min/max/gcd Queries}]{../datastruct/sparse_table.cpp}

\lstinputlisting[firstline=65, lastline=71, float=!ht, caption={Monotonic Queue.}]{../string/sa.cpp}

\lstinputlisting[firstline=5, lastline=26, float=!ht, caption={Trie.}]{../datastruct/trie.cpp}


\lstinputlisting[firstline=7, lastline=50, float=!ht, caption={Trie of 01-strings.}]{../datastruct/01trie.cpp}


% GRAPH
\lstinputlisting[firstline=9, lastline=38, float=!ht, caption={Kosaraju SCC.}]{../graph/scc.cpp}
\addcontentsline{toc}{section}{Graph}


\lstinputlisting[firstline=6, lastline=50, float=!ht, caption={KM Optimal Pairing.}]{../graph/km.cpp}


\lstinputlisting[firstline=7, lastline=53, float=!ht, caption={Max flow.}]{../graph/maxflow.cpp}


\lstinputlisting[firstline=70, lastline=107, float=!ht, caption={Classic Lowest Common Ancestor.}]{../graph/lca.cpp}


\lstinputlisting[firstline=5, lastline=43, float=!ht, caption={Tarjan Lowest Common Ancestor.}]{../graph/lca.cpp}


\lstinputlisting[firstline=7, lastline=42, float=!ht, caption={Dijkstra Shortest Path.}]{../graph/dijkstra.cpp}

% MATH
\lstinputlisting[firstline=11, lastline=24, float=!ht, caption={Fraction.}]{../math/fraction.cpp}
\addcontentsline{toc}{section}{Math}


\lstinputlisting[firstline=7, lastline=11, float=!ht, caption={Binary Power.}]{../math/comb.cpp}

\lstinputlisting[firstline=16, lastline=54, float=!ht, caption={Mod P Integer.}]{../math/comb.cpp}


\lstinputlisting[firstline=56, lastline=106, float=!ht, caption={Combinations.}]{../math/comb.cpp}


\lstinputlisting[firstline=5, lastline=13, float=!ht, caption={Exgcd.}]{../math/exgcd.cpp}

\lstinputlisting[firstline=7, lastline=44, float=!ht, caption={Chinese Remainder Thm.}]{../math/crt.cpp}


\lstinputlisting[firstline=9, lastline=22, float=!ht, caption={Prime Sieve.}]{../math/prime_sieve.cpp}

\lstinputlisting[firstline=5, lastline=28, float=!ht, caption={Bezout's Lemma.}]{../math/bezout_lemma.cpp}


\lstinputlisting[firstline=7, lastline=39, float=!ht, caption={Mobius Inversion.}]{../math/mobius_inv.cpp}

\lstinputlisting[firstline=16, lastline=25, float=!ht, caption={Recursion Acceleration.}]{../math/rec_acc.cpp}


% MISC
\lstinputlisting[firstline=37, lastline=59, float=!ht, caption={2-SAT.}]{../misc/2sat.cpp}
\addcontentsline{toc}{section}{Misc}

\lstinputlisting[firstline=1, lastline=17, float=!ht, caption={Binary Search.}]{../misc/binary_search.cpp}


\lstinputlisting[firstline=65, lastline=74, float=!ht, caption={Counting inversions.}]{../misc/cnt_inv.cpp}

% STRING
\lstinputlisting[firstline=5, lastline=16, float=!ht, caption={Prefix Function in KMP.}]{../string/kmp.cpp}
\addcontentsline{toc}{section}{String}

\lstinputlisting[firstline=6, lastline=21, float=!ht, caption={Z Algorithm.}]{../string/z_algo.cpp}


\lstinputlisting[firstline=5, lastline=47, float=!ht, caption={AC Automaton to get total \#occurence.}]{../string/aca.cpp}


\lstinputlisting[firstline=5, lastline=54, float=!ht, caption={AC Automaton to get every \#occurence.}]{../string/acaa.cpp}


\lstinputlisting[firstline=6, lastline=19, float=!ht, caption={Manacher to find palindromes.}]{../string/manacher.cpp}

\lstinputlisting[firstline=7, lastline=37, float=!ht, caption={String Hashing.}]{../string/string_hash.cpp}


\lstinputlisting[firstline=5, lastline=50, float=!ht, caption={Suffix Array.}]{../string/sa.cpp}


\lstinputlisting[firstline=5, lastline=49, float=!ht, caption={Suffix Automaton.}]{../string/sam.cpp}



\end{document}
